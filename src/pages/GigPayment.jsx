import { useLocation, useNavigate, useParams } from "react-router"
import { GigCart } from "./GigCart"
import { useEffect, useRef, useState } from "react"
import { showErrorMsg, showSuccessMsg } from "../services/event-bus.service"
import { gigService } from "../services/gig.service.local"
import { orderService } from "../services/order.service"
import { addOrder } from "../store/action/gig.actions"
import { utilService } from "../services/util.service"
import { userService } from "../services/user.service"

export function GigPayment() {
    const { gigId } = useParams()
    const [gig, setGig] = useState(null)
    const navigate = useNavigate()
    const user = userService.getLoggedinUser();
    const [cards, setCards] = useState(true)
    const [isChecked, setIsChecked] = useState(false);
    const [showTooltip, setShowTooltip] = useState(false);
    const [showServiceFeeTooltip, setShowServiceFeeTooltip] = useState(false);
    const [showVATTooltip, setShowVATTooltip] = useState(false);
    const location = useLocation();
    const params = new URLSearchParams(location.search);
    const [modalText, setModalText] = useState('');
    const [isModalOpen, setIsModalOpen] = useState(false);
    const modalRef = useRef(null);
    const [isLabelClicked, setIsLabelClicked] = useState(false);


    const planType = params.get("planType");
    const planPrice = params.get("planPrice");
    const planDelivery = params.get("planDelivery");

    console.log(planType, planPrice, planDelivery)

    const paypal = "https://www.paypal.com/smart/button?env=production&style.color=blue&style.size=medium&style.tagline=false&style.label=checkout&commit=true&locale.x=en_US&domain=www.fiverr.com&sessionID=uid_3b5a388fa2_mty6ntg6mja&buttonSessionID=uid_845cb8e2f2_mty6ntg6mje&renderedButtons=paypal&storageID=uid_1c6ca0b1fd_mti6mja6mzk&funding.disallowed=venmo&funding.remembered=paypal&logLevel=warn&sdkMeta=eyJ1cmwiOiJodHRwczovL3d3dy5wYXlwYWxvYmplY3RzLmNvbS9hcGkvY2hlY2tvdXQuanMifQ&uid=1477767e3c&version=4&xcomponent=1"
    const creditCardSymbol = <svg width="152" height="20" viewBox="0 0 152 20" fill="none" xmlns="http://www.w3.org/2000/svg"><rect width="24" height="20" rx="2" fill="#1434CB"></rect><g clipPath="url(#clip0_5729_184079)"><path d="M9.41944 6.29871L6.61125 12.9987H4.77912L3.3972 7.65181C3.3133 7.32247 3.24035 7.20182 2.98519 7.06307C2.56861 6.83707 1.88066 6.62503 1.27539 6.49343L1.3165 6.29871H4.26568C4.6416 6.29871 4.97954 6.54895 5.06489 6.98185L5.79472 10.8588L7.5987 6.29871H9.41944ZM16.5982 10.8112C16.6055 9.04289 14.1529 8.94547 14.1698 8.15553C14.1751 7.91512 14.404 7.65951 14.905 7.59427C15.1533 7.56176 15.8376 7.53696 16.6137 7.89412L16.9181 6.47332C16.5011 6.32195 15.9645 6.17627 15.2969 6.17627C13.5837 6.17627 12.3781 7.08697 12.3679 8.39103C12.3569 9.35558 13.2285 9.89382 13.8852 10.2143C14.5607 10.5426 14.7874 10.7535 14.7848 11.0471C14.78 11.4965 14.246 11.6949 13.747 11.7027C12.8758 11.7161 12.3703 11.467 11.9673 11.2797L11.6532 12.7475C12.0582 12.9333 12.8056 13.0954 13.5806 13.1035C15.4015 13.1035 16.5926 12.2041 16.5982 10.8112ZM21.122 12.9988H22.725L21.3256 6.29871H19.8461C19.5134 6.29871 19.2327 6.49242 19.1085 6.79026L16.5077 12.9987H18.3276L18.689 11.9979H20.9127L21.122 12.9987V12.9988ZM19.1881 10.6248L20.1003 8.10917L20.6254 10.6248H19.1882H19.1881ZM11.8958 6.29871L10.4626 12.9987H8.72949L10.1632 6.29871H11.8958Z" fill="white"></path></g><rect x="32" width="24" height="20" rx="2" fill="#000066"></rect><path fillRule="evenodd" clipRule="evenodd" d="M45.7702 10.3861C45.7702 13.3603 43.3593 15.7711 40.3852 15.7711C37.411 15.7711 35 13.3603 35 10.3861C35 7.41199 37.411 5.00098 40.3852 5.00098C43.3593 5.00098 45.7702 7.41199 45.7702 10.3861Z" fill="#CC0000"></path><path fillRule="evenodd" clipRule="evenodd" d="M47.6158 5.00098C46.224 5.00098 44.9563 5.52886 44.0005 6.39485C43.806 6.57135 43.6245 6.76198 43.4569 6.96495H44.545C44.6936 7.14587 44.8305 7.33608 44.9555 7.5353H43.0463C42.9321 7.71835 42.8283 7.90855 42.7361 8.10565H45.2656C45.3521 8.29023 45.4282 8.48035 45.4937 8.67574H42.508C42.4459 8.86144 42.3934 9.05172 42.3516 9.24575H45.6499C45.7289 9.61339 45.7709 9.99482 45.7709 10.3861C45.7709 10.984 45.6735 11.5594 45.4937 12.0968H42.508C42.5735 12.292 42.6496 12.4824 42.7359 12.6673H45.2656C45.1732 12.8638 45.0699 13.0542 44.955 13.2375H43.0463C43.1708 13.4362 43.308 13.6266 43.4569 13.8073H44.5446C44.3774 14.0104 44.1957 14.201 44.0007 14.3775C44.9564 15.2435 46.224 15.7711 47.6158 15.7711C50.5898 15.7711 53.0007 13.3603 53.0007 10.3861C53.0007 7.41224 50.5898 5.00098 47.6158 5.00098Z" fill="#FF9900"></path><path fillRule="evenodd" clipRule="evenodd" d="M39.1275 10.9755C39.0662 10.9686 39.0391 10.9663 38.997 10.9663C38.6656 10.9663 38.498 11.08 38.498 11.3046C38.498 11.4429 38.5798 11.5308 38.7075 11.5308C38.9457 11.5308 39.1173 11.3041 39.1275 10.9755ZM39.5528 11.9654H39.0682L39.0794 11.7352C38.9316 11.9169 38.7344 12.0037 38.4666 12.0037C38.1499 12.0037 37.9326 11.7564 37.9326 11.397C37.9326 10.8561 38.3104 10.5406 38.9589 10.5406C39.0254 10.5406 39.1103 10.5467 39.1973 10.5577C39.2154 10.4843 39.2201 10.4532 39.2201 10.4136C39.2201 10.2666 39.1183 10.2114 38.8452 10.2114C38.5592 10.2085 38.3233 10.2797 38.2264 10.3116C38.2325 10.2746 38.3075 9.81195 38.3075 9.81195C38.5987 9.72633 38.7909 9.69434 39.0071 9.69434C39.5092 9.69434 39.7751 9.91968 39.7746 10.3457C39.7756 10.46 39.7566 10.6005 39.7272 10.7858C39.6765 11.1075 39.5676 11.7974 39.5528 11.9654Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M37.6881 11.9664H37.1034L37.4385 9.86674L36.6906 11.9664H36.2922L36.2429 9.87849L35.891 11.9664H35.3438L35.8008 9.23486H36.6415L36.6924 10.7638L37.2053 9.23486H38.1403L37.6881 11.9664Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M48.3371 10.9755C48.2758 10.9686 48.2491 10.9663 48.207 10.9663C47.8754 10.9663 47.708 11.08 47.708 11.3046C47.708 11.4429 47.7894 11.5308 47.9174 11.5308C48.1555 11.5308 48.3272 11.3041 48.3371 10.9755ZM48.7627 11.9654H48.2783L48.2892 11.7352C48.1415 11.9169 47.9444 12.0037 47.6768 12.0037C47.3596 12.0037 47.1426 11.7564 47.1426 11.397C47.1426 10.8561 47.5205 10.5406 48.1689 10.5406C48.2353 10.5406 48.32 10.5467 48.4071 10.5577C48.4252 10.4843 48.4299 10.4532 48.4299 10.4136C48.4299 10.2666 48.3281 10.2114 48.055 10.2114C47.769 10.2085 47.5332 10.2797 47.4359 10.3116C47.4424 10.2746 47.5175 9.81195 47.5175 9.81195C47.8086 9.72633 48.0009 9.69434 48.2168 9.69434C48.7193 9.69434 48.9849 9.91968 48.9843 10.3457C48.9854 10.46 48.9666 10.6005 48.937 10.7858C48.8865 11.1075 48.7773 11.7974 48.7627 11.9654Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M42.1518 11.9321C41.9917 11.9824 41.867 12.0042 41.7317 12.0042C41.4329 12.0042 41.2698 11.8325 41.2698 11.5162C41.2656 11.418 41.3128 11.1597 41.3499 10.9241C41.3837 10.7166 41.6035 9.4082 41.6035 9.4082H42.1845L42.1166 9.74444H42.4677L42.3884 10.2784H42.0362C41.9687 10.7007 41.8725 11.227 41.8714 11.2968C41.8714 11.4113 41.9325 11.4614 42.0716 11.4614C42.1382 11.4614 42.1898 11.4546 42.2292 11.4404L42.1518 11.9321Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M43.9326 11.9136C43.733 11.9746 43.5406 12.0044 43.3364 12.0037C42.6858 12.0029 42.3467 11.6633 42.3467 11.0127C42.3467 10.2535 42.7781 9.69434 43.3638 9.69434C43.8428 9.69434 44.149 10.0073 44.149 10.498C44.149 10.6612 44.128 10.8201 44.0772 11.0445H42.92C42.8809 11.3668 43.0871 11.501 43.4253 11.501C43.6331 11.501 43.8208 11.4581 44.0294 11.3613L43.9326 11.9136ZM43.606 10.5968C43.6093 10.5504 43.6675 10.2002 43.3354 10.2002C43.1505 10.2002 43.018 10.3413 42.9643 10.5968H43.606Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M39.903 10.4463C39.903 10.727 40.0392 10.9208 40.3481 11.0664C40.5847 11.1778 40.6216 11.2108 40.6216 11.3116C40.6216 11.4499 40.5171 11.5127 40.2859 11.5127C40.1113 11.5127 39.9491 11.4853 39.762 11.4248C39.762 11.4248 39.6853 11.9146 39.6816 11.938C39.8145 11.9668 39.9329 11.9936 40.29 12.0037C40.9068 12.0037 41.1918 11.7689 41.1918 11.2612C41.1918 10.9561 41.0726 10.7769 40.7797 10.6421C40.5347 10.5297 40.5064 10.5045 40.5064 10.4008C40.5064 10.2808 40.6036 10.2194 40.7925 10.2194C40.9073 10.2194 41.0639 10.2317 41.2126 10.2527L41.2958 9.73748C41.1445 9.7134 40.9148 9.69434 40.7812 9.69434C40.1273 9.69434 39.9009 10.0358 39.903 10.4463Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M46.7763 9.75322C46.9387 9.75322 47.0904 9.79543 47.2988 9.9007L47.3945 9.30788C47.3086 9.27418 47.0072 9.07666 46.7519 9.07666C46.3608 9.07666 46.0297 9.27103 45.7973 9.5911C45.4579 9.47876 45.3183 9.70582 45.1474 9.93219L44.9955 9.96759C45.007 9.89312 45.0175 9.81917 45.0141 9.7442H44.477C44.4038 10.4319 44.2738 11.1282 44.1721 11.8162L44.1455 11.9656H44.7304C44.828 11.3313 44.8814 10.9252 44.9139 10.6502L45.1341 10.5282C45.1672 10.4055 45.27 10.3643 45.4766 10.3694C45.4496 10.5142 45.435 10.6668 45.435 10.8246C45.435 11.5515 45.8276 12.004 46.4567 12.004C46.6188 12.004 46.758 11.9827 46.9736 11.924L47.0761 11.3016C46.8822 11.3968 46.7235 11.4416 46.5796 11.4416C46.2397 11.4416 46.034 11.1907 46.034 10.7761C46.034 10.1746 46.3397 9.75322 46.7763 9.75322Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M51.7251 9.23486L51.5952 10.024C51.4356 9.81372 51.2639 9.66139 51.0372 9.66139C50.7422 9.66139 50.4737 9.88504 50.2979 10.2144C50.0531 10.1636 49.8 10.0772 49.8 10.0772L49.7999 10.0793C49.8194 9.89525 49.8276 9.78326 49.8257 9.74496H49.2886C49.2157 10.4327 49.0855 11.129 48.9839 11.8169L48.957 11.9664H49.5421C49.6211 11.4537 49.6814 11.0275 49.7259 10.69C49.9259 10.5093 50.026 10.3521 50.2276 10.3623C50.1382 10.5786 50.086 10.8276 50.086 11.0831C50.086 11.6382 50.3667 12.0047 50.7918 12.0047C51.0061 12.0047 51.1705 11.9308 51.3309 11.7596L51.3033 11.9662H51.8564L52.3018 9.23486H51.7251ZM50.994 11.4532C50.7951 11.4532 50.6943 11.3056 50.6943 11.0153C50.6943 10.5786 50.8826 10.2691 51.1477 10.2691C51.3486 10.2691 51.4576 10.4219 51.4576 10.7041C51.4576 11.1445 51.2661 11.4532 50.994 11.4532Z" fill="#000066"></path><path fillRule="evenodd" clipRule="evenodd" d="M37.857 11.803H37.2724L37.6075 9.7034L36.8597 11.803H36.4612L36.412 9.71557L36.0599 11.803H35.5127L35.9698 9.07178H36.8105L36.834 10.7626L37.4013 9.07178H38.3092L37.857 11.803Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M39.2964 10.8128C39.2351 10.8056 39.2081 10.8037 39.1659 10.8037C38.8345 10.8037 38.6669 10.9172 38.6669 11.1416C38.6669 11.2797 38.7488 11.3682 38.8765 11.3682C39.1146 11.3682 39.2863 11.1415 39.2964 10.8128ZM39.7216 11.8023H39.2372L39.2483 11.5722C39.1006 11.7539 38.9034 11.8408 38.6356 11.8408C38.3187 11.8408 38.1016 11.5932 38.1016 11.2339C38.1016 10.6928 38.4794 10.3778 39.128 10.3778C39.1943 10.3778 39.2792 10.3838 39.3663 10.395C39.3843 10.3215 39.3891 10.2903 39.3891 10.2505C39.3891 10.1036 39.2873 10.0488 39.0142 10.0488C38.7281 10.0454 38.4923 10.1167 38.3952 10.1484C38.4015 10.1116 38.4763 9.64895 38.4763 9.64895C38.7677 9.5635 38.9598 9.53125 39.1761 9.53125C39.6781 9.53125 39.9439 9.75685 39.9435 10.1827C39.9444 10.2968 39.9256 10.438 39.8962 10.6228C39.8454 10.9443 39.7364 11.6346 39.7216 11.8023Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M47.5628 9.14577L47.4671 9.7385C47.2583 9.63357 47.1071 9.59111 46.9449 9.59111C46.5084 9.59111 46.2022 10.013 46.2022 10.6146C46.2022 11.0292 46.408 11.2796 46.7479 11.2796C46.8919 11.2796 47.0509 11.2351 47.2444 11.1395L47.1416 11.762C46.9264 11.8206 46.7871 11.842 46.6251 11.842C45.9956 11.842 45.6035 11.3895 45.6035 10.6628C45.6035 9.68634 46.1455 9.00391 46.9203 9.00391C47.1756 9.00391 47.4771 9.11207 47.5628 9.14577Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M48.5049 10.8128C48.444 10.8056 48.4169 10.8037 48.3748 10.8037C48.0436 10.8037 47.8759 10.9172 47.8759 11.1416C47.8759 11.2797 47.9577 11.3682 48.0853 11.3682C48.3233 11.3682 48.4952 11.1415 48.5049 10.8128ZM48.9305 11.8023H48.4461L48.4571 11.5722C48.3094 11.7539 48.1122 11.8408 47.8446 11.8408C47.5275 11.8408 47.3105 11.5932 47.3105 11.2339C47.3105 10.6928 47.6881 10.3778 48.3368 10.3778C48.4031 10.3778 48.4878 10.3838 48.5748 10.395C48.5929 10.3215 48.5977 10.2903 48.5977 10.2505C48.5977 10.1036 48.4962 10.0488 48.2229 10.0488C47.9371 10.0454 47.7013 10.1167 47.6041 10.1484C47.6103 10.1116 47.6852 9.64895 47.6852 9.64895C47.9766 9.5635 48.1685 9.53125 48.3848 9.53125C48.8868 9.53125 49.1529 9.75685 49.1522 10.1827C49.1534 10.2968 49.1344 10.438 49.105 10.6228C49.0544 10.9443 48.9454 11.6346 48.9305 11.8023Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M42.3197 11.7688C42.1598 11.8192 42.035 11.8411 41.8998 11.8411C41.601 11.8411 41.4377 11.6692 41.4377 11.3533C41.4337 11.2547 41.4809 10.9968 41.5181 10.761C41.5517 10.5533 41.7715 9.24512 41.7715 9.24512H42.3527L42.2847 9.58127H42.583L42.5036 10.115H42.2043C42.1368 10.5378 42.0405 11.0637 42.0393 11.1335C42.0393 11.2484 42.1007 11.2981 42.2397 11.2981C42.3063 11.2981 42.3578 11.2916 42.3974 11.2771L42.3197 11.7688Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M44.1007 11.751C43.901 11.8121 43.7081 11.841 43.5042 11.8408C42.8535 11.8404 42.5146 11.5004 42.5146 10.8499C42.5146 10.0904 42.9459 9.53125 43.5313 9.53125C44.0108 9.53125 44.3168 9.84425 44.3168 10.3355C44.3168 10.4983 44.2955 10.6572 44.2453 10.8816H43.0879C43.0487 11.2039 43.255 11.3384 43.593 11.3384C43.8009 11.3384 43.9885 11.2953 44.1974 11.1983L44.1007 11.751ZM43.774 10.4337C43.7771 10.3872 43.8356 10.0372 43.5035 10.0372C43.3185 10.0372 43.186 10.1785 43.1321 10.4337H43.774Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M40.0718 10.2832C40.0718 10.5645 40.2081 10.7578 40.5171 10.9036C40.7538 11.0149 40.7904 11.0478 40.7904 11.1488C40.7904 11.2872 40.686 11.3497 40.4546 11.3497C40.2803 11.3497 40.118 11.3226 39.9308 11.2623C39.9308 11.2623 39.8542 11.7518 39.8506 11.7749C39.9833 11.804 40.1019 11.8305 40.4588 11.8408C41.0758 11.8408 41.3607 11.606 41.3607 11.0984C41.3607 10.793 41.2414 10.614 40.9486 10.4795C40.7035 10.3668 40.6753 10.3418 40.6753 10.238C40.6753 10.1179 40.7725 10.0562 40.9615 10.0562C41.076 10.0562 41.2329 10.0689 41.3815 10.0899L41.4647 9.57474C41.3133 9.55082 41.0839 9.53125 40.9502 9.53125C40.2961 9.53125 40.0698 9.87285 40.0718 10.2832Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M52.0244 11.803H51.4715L51.4989 11.5963C51.3384 11.7676 51.1741 11.8416 50.9598 11.8416C50.535 11.8416 50.2539 11.4755 50.2539 10.9198C50.2539 10.1809 50.6897 9.55813 51.2052 9.55813C51.4319 9.55813 51.6035 9.65072 51.7634 9.86109L51.8931 9.07178H52.4697L52.0244 11.803ZM51.1619 11.2898C51.4343 11.2898 51.6255 10.9813 51.6255 10.5413C51.6255 10.259 51.5166 10.1057 51.3157 10.1057C51.0505 10.1057 50.8623 10.4153 50.8623 10.8521C50.8623 11.1428 50.9631 11.2898 51.1619 11.2898Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M49.4584 9.58244C49.3853 10.27 49.2553 10.9663 49.1536 11.6543L49.127 11.8037H49.7117C49.9209 10.4453 49.9712 10.1802 50.2993 10.2133C50.3515 9.93527 50.4487 9.6918 50.5212 9.56908C50.2763 9.51802 50.1396 9.65639 49.9604 9.91936C49.9746 9.80558 50.0004 9.6952 49.9956 9.58244H49.4584Z" fill="white"></path><path fillRule="evenodd" clipRule="evenodd" d="M44.6452 9.58244C44.5718 10.27 44.4416 10.9663 44.34 11.6543L44.3135 11.8037H44.8984C45.1076 10.4453 45.1578 10.1802 45.4854 10.2133C45.5379 9.93527 45.6354 9.6918 45.7076 9.56908C45.463 9.51802 45.326 9.65639 45.1471 9.91936C45.1613 9.80558 45.1872 9.6952 45.1821 9.58244H44.6452Z" fill="white"></path><rect x="64" width="24" height="20" rx="2" fill="#0069AA"></rect><path fillRule="evenodd" clipRule="evenodd" d="M78.5475 9.98961C78.5452 8.50612 77.6179 7.24093 76.3113 6.73987V13.2391C77.6179 12.7374 78.5452 11.4734 78.5475 9.98961ZM73.8187 13.2378V6.74052C72.5132 7.24313 71.5874 8.50651 71.5839 9.98961C71.5874 11.4723 72.5132 12.7356 73.8187 13.2378ZM75.0656 4.49626C72.0318 4.49743 69.5739 6.95583 69.5734 9.98961C69.5739 13.023 72.0318 15.481 75.0656 15.4815C78.0994 15.481 80.5578 13.023 80.5586 9.98961C80.5578 6.95583 78.0994 4.49743 75.0656 4.49626ZM75.0521 15.9999C71.7324 16.0157 69 13.3262 69 10.0523C69 6.4742 71.7324 3.99935 75.0521 4H76.6079C79.8884 3.99935 82.8824 6.47303 82.8824 10.0523C82.8824 13.3251 79.8884 15.9999 76.6079 15.9999H75.0521Z" fill="white"></path><rect x="96.25" y="0.25" width="23.5" height="19.5" rx="1.75" fill="white"></rect><path fillRule="evenodd" clipRule="evenodd" d="M100.396 10.0075C100.228 10.1513 100.014 10.2142 99.6712 10.2142H99.5292V8.49816H99.6712C100.014 8.49816 100.219 8.5568 100.396 8.70776C100.578 8.86375 100.687 9.10439 100.687 9.3533C100.687 9.60341 100.578 9.85262 100.396 10.0075ZM99.7773 8.05859H99V10.6539H99.7725C100.184 10.6539 100.48 10.5603 100.741 10.3537C101.05 10.1091 101.233 9.73965 101.233 9.35692C101.233 8.59076 100.635 8.05859 99.7773 8.05859Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M101.477 8.05859H102.004V10.6539H101.477V8.05859Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M103.298 9.05405C102.98 8.9424 102.887 8.86803 102.887 8.72776C102.887 8.56471 103.054 8.44106 103.282 8.44106C103.44 8.44106 103.571 8.50173 103.71 8.64996L103.985 8.30452C103.758 8.11305 103.486 8.01611 103.189 8.01611C102.709 8.01611 102.343 8.33566 102.343 8.75819C102.343 9.11693 102.513 9.29892 103.01 9.47175C103.217 9.54077 103.322 9.58794 103.376 9.61988C103.482 9.68528 103.534 9.779 103.534 9.88733C103.534 10.0984 103.359 10.2536 103.123 10.2536C102.871 10.2536 102.668 10.1331 102.546 9.90677L102.205 10.2228C102.449 10.5646 102.741 10.7174 103.144 10.7174C103.693 10.7174 104.08 10.3656 104.08 9.86455C104.08 9.45169 103.9 9.26456 103.298 9.05405Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M104.245 9.35698C104.245 10.1202 104.871 10.7116 105.677 10.7116C105.904 10.7116 106.099 10.6687 106.339 10.5604V9.96392C106.127 10.1678 105.941 10.2482 105.7 10.2482C105.168 10.2482 104.791 9.87948 104.791 9.35335C104.791 8.85625 105.18 8.46244 105.677 8.46244C105.928 8.46244 106.12 8.54749 106.339 8.75437V8.15861C106.107 8.04646 105.917 8 105.688 8C104.887 8 104.245 8.60301 104.245 9.35698Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M110.625 9.80102L109.902 8.05859H109.325L110.475 10.7194H110.759L111.931 8.05859H111.358L110.625 9.80102Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M112.17 10.6539H113.67V10.2142H112.699V9.51362H113.633V9.07396H112.699V8.49816H113.67V8.05859H112.17V10.6539Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M114.703 9.25202H114.55V8.46702H114.712C115.043 8.46702 115.22 8.59973 115.22 8.85257C115.22 9.11235 115.042 9.25202 114.703 9.25202ZM115.764 8.82435C115.764 8.33833 115.416 8.05859 114.805 8.05859H114.02V10.6539H114.55V9.61046H114.619L115.349 10.6539H116L115.147 9.56008C115.546 9.48208 115.764 9.22149 115.764 8.82435Z" fill="#1A1918"></path><path fillRule="evenodd" clipRule="evenodd" d="M109.399 9.36233C109.399 10.1095 108.766 10.7152 107.985 10.7152C107.204 10.7152 106.571 10.1095 106.571 9.36233C106.571 8.61501 107.204 8.00928 107.985 8.00928C108.766 8.00928 109.399 8.61501 109.399 9.36233Z" fill="#E7772F"></path><path d="M97 20H118.788C119.457 20 120 19.4564 120 18.785C120 18.785 120 13 120 12C117 14.5 112 18 97 20Z" fill="#E7772F"></path><rect x="96.25" y="0.25" width="23.5" height="19.5" rx="1.75" stroke="#E7772F" strokeWidth="0.5"></rect><rect x="128.25" y="0.25" width="23.5" height="19.5" rx="1.75" fill="white"></rect><path d="M144.578 11.1581H145.869C145.906 11.1581 145.992 11.1458 146.029 11.1458C146.274 11.0966 146.483 10.8754 146.483 10.5681C146.483 10.273 146.274 10.0518 146.029 9.99032C145.992 9.97803 145.918 9.97803 145.869 9.97803H144.578V11.1581Z" fill="url(#paint0_linear_5729_184079)"></path><path d="M145.722 3.00732C144.493 3.00732 143.485 4.00299 143.485 5.2445V7.56772H146.644C146.718 7.56772 146.804 7.56772 146.865 7.58002C147.578 7.61689 148.107 7.98566 148.107 8.62485C148.107 9.12883 147.75 9.55906 147.087 9.6451V9.66969C147.812 9.71885 148.365 10.1245 148.365 10.7514C148.365 11.4275 147.75 11.87 146.939 11.87H143.473V16.4181H146.755C147.984 16.4181 148.992 15.4224 148.992 14.1809V3.00732H145.722Z" fill="url(#paint1_linear_5729_184079)"></path><path d="M146.324 8.77328C146.324 8.47827 146.115 8.28159 145.869 8.24471C145.844 8.24471 145.783 8.23242 145.746 8.23242H144.578V9.31413H145.746C145.783 9.31413 145.857 9.31413 145.869 9.30184C146.115 9.26497 146.324 9.06829 146.324 8.77328Z" fill="url(#paint2_linear_5729_184079)"></path><path d="M133.356 3.00732C132.127 3.00732 131.119 4.00299 131.119 5.2445V10.7637C131.746 11.071 132.397 11.2677 133.049 11.2677C133.823 11.2677 134.241 10.8006 134.241 10.1614V7.55543H136.159V10.1491C136.159 11.157 135.532 11.9806 133.405 11.9806C132.114 11.9806 131.106 11.6979 131.106 11.6979V16.4058H134.388C135.618 16.4058 136.626 15.4101 136.626 14.1686V3.00732H133.356Z" fill="url(#paint3_linear_5729_184079)"></path><path d="M139.538 3.00732C138.309 3.00732 137.301 4.00299 137.301 5.2445V8.17004C137.866 7.69065 138.85 7.38334 140.435 7.45709C141.283 7.49397 142.193 7.72752 142.193 7.72752V8.67402C141.738 8.44047 141.197 8.2315 140.497 8.18233C139.292 8.09629 138.567 8.68631 138.567 9.71886C138.567 10.7637 139.292 11.3537 140.497 11.2554C141.197 11.2062 141.738 10.985 142.193 10.7637V11.7102C142.193 11.7102 141.296 11.9437 140.435 11.9806C138.85 12.0544 137.866 11.7471 137.301 11.2677V16.4304H140.583C141.812 16.4304 142.82 15.4347 142.82 14.1932V3.00732H139.538Z" fill="url(#paint4_linear_5729_184079)"></path><rect x="128.25" y="0.25" width="23.5" height="19.5" rx="1.75" stroke="#C5C6C9" strokeWidth="0.5"></rect><defs><linearGradient id="paint0_linear_5729_184079" x1="143.482" y1="10.5695" x2="149.006" y2="10.5695" gradientUnits="userSpaceOnUse"><stop stopColor="#007940"></stop><stop offset="0.229" stopColor="#00873F"></stop><stop offset="0.743" stopColor="#40A737"></stop><stop offset="1" stopColor="#5CB531"></stop></linearGradient><linearGradient id="paint1_linear_5729_184079" x1="143.483" y1="9.7073" x2="149.007" y2="9.7073" gradientUnits="userSpaceOnUse"><stop stopColor="#007940"></stop><stop offset="0.229" stopColor="#00873F"></stop><stop offset="0.743" stopColor="#40A737"></stop><stop offset="1" stopColor="#5CB531"></stop></linearGradient><linearGradient id="paint2_linear_5729_184079" x1="143.482" y1="8.77168" x2="149.006" y2="8.77168" gradientUnits="userSpaceOnUse"><stop stopColor="#007940"></stop><stop offset="0.229" stopColor="#00873F"></stop><stop offset="0.743" stopColor="#40A737"></stop><stop offset="1" stopColor="#5CB531"></stop></linearGradient><linearGradient id="paint3_linear_5729_184079" x1="131.116" y1="9.7073" x2="136.725" y2="9.7073" gradientUnits="userSpaceOnUse"><stop stopColor="#1F286F"></stop><stop offset="0.475" stopColor="#004E94"></stop><stop offset="0.826" stopColor="#0066B1"></stop><stop offset="1" stopColor="#006FBC"></stop></linearGradient><linearGradient id="paint4_linear_5729_184079" x1="137.269" y1="9.7073" x2="142.717" y2="9.7073" gradientUnits="userSpaceOnUse"><stop stopColor="#6C2C2F"></stop><stop offset="0.173" stopColor="#882730"></stop><stop offset="0.573" stopColor="#BE1833"></stop><stop offset="0.859" stopColor="#DC0436"></stop><stop offset="1" stopColor="#E60039"></stop></linearGradient><clipPath id="clip0_5729_184079"><rect width="22" height="7.28071" fill="white" transform="translate(1 6)"></rect></clipPath></defs></svg>
    const checkSymbol = <svg width="11" height="9" viewBox="0 0 11 9" xmlns="http://www.w3.org/2000/svg"><path d="M3.64489 8.10164L0.158292 4.61504C-0.0511769 4.40557 -0.0511769 4.06594 0.158292 3.85645L0.916858 3.09786C1.12633 2.88837 1.46598 2.88837 1.67545 3.09786L4.02419 5.44658L9.05493 0.41586C9.2644 0.206391 9.60405 0.206391 9.81352 0.41586L10.5721 1.17445C10.7816 1.38392 10.7816 1.72355 10.5721 1.93303L4.40348 8.10166C4.19399 8.31113 3.85436 8.31113 3.64489 8.10164V8.10164Z"></path></svg>
    const questionMarkSymbol = <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" clipRule="evenodd" d="M8 1.6C4.46538 1.6 1.6 4.46538 1.6 8C1.6 11.5346 4.46538 14.4 8 14.4C11.5346 14.4 14.4 11.5346 14.4 8C14.4 4.46538 11.5346 1.6 8 1.6ZM0 8C0 3.58172 3.58172 0 8 0C12.4183 0 16 3.58172 16 8C16 12.4183 12.4183 16 8 16C3.58172 16 0 12.4183 0 8ZM7.04923 5.61744C6.86818 5.86891 6.8 6.19469 6.8 6.4H5.2C5.2 5.93865 5.33182 5.26443 5.75077 4.68256C6.19909 4.05989 6.93926 3.6 8 3.6C9.33919 3.6 10.3019 4.38025 10.6388 5.39495C10.9694 6.39102 10.6738 7.57898 9.64376 8.26564C9.07519 8.64469 8.94028 8.83688 8.88532 8.96514C8.81377 9.13208 8.8 9.34506 8.8 10H7.2C7.2 9.97079 7.19996 9.94146 7.19992 9.91203C7.19922 9.39218 7.19847 8.83935 7.41468 8.33486C7.65972 7.76312 8.12481 7.35531 8.75624 6.93436C9.13828 6.67966 9.24261 6.26763 9.12025 5.89903C9.00408 5.54907 8.66081 5.2 8 5.2C7.46074 5.2 7.20091 5.40677 7.04923 5.61744ZM8.8 10.8V12.4H7.2V10.8H8.8Z"></path></svg>
    const paypaySymbol = <svg width="73" height="20" viewBox="0 0 73 20" fill="none" xmlns="http://www.w3.org/2000/svg"><path fillRule="evenodd" clipRule="evenodd" d="M8.70598 0H3.06309C2.67689 0 2.34848 0.282581 2.28816 0.666648L0.00590303 15.2398C-0.0393954 15.5275 0.181781 15.7866 0.471368 15.7866H3.16524C3.55143 15.7866 3.87984 15.5042 3.94016 15.1195L4.55562 11.1887C4.61502 10.8039 4.94413 10.5214 5.32962 10.5214H7.11591C10.8329 10.5214 12.9781 8.70972 13.5386 5.11997C13.791 3.54925 13.5492 2.31535 12.8189 1.45108C12.0169 0.502081 10.5944 0 8.70598 0ZM9.35539 5.32323C9.04685 7.36251 7.49977 7.36251 6.004 7.36251H5.15234L5.74977 3.55396C5.78537 3.32375 5.9832 3.1543 6.21431 3.1543H6.60467C7.62365 3.1543 8.58486 3.1543 9.08152 3.73924C9.37781 4.08816 9.46841 4.60677 9.35539 5.32323Z" fill="#28356A"></path><path fillRule="evenodd" clipRule="evenodd" d="M25.5737 5.25605H22.8715C22.6414 5.25605 22.4424 5.4255 22.407 5.65571L22.2873 6.41686L22.0985 6.14103C21.5135 5.28584 20.2089 5 18.907 5C15.9208 5 13.3704 7.27787 12.8738 10.4731C12.6156 12.0668 12.9826 13.591 13.8805 14.6538C14.704 15.631 15.8822 16.0383 17.2839 16.0383C19.69 16.0383 21.024 14.4802 21.024 14.4802L20.9036 15.2364C20.8583 15.5255 21.0795 15.7849 21.3675 15.7849H23.8013C24.1884 15.7849 24.5152 15.5023 24.5762 15.1175L26.0367 5.80282C26.0829 5.51605 25.8624 5.25605 25.5737 5.25605ZM21.8065 10.5531C21.5458 12.1077 20.3207 13.1514 18.7579 13.1514C17.9733 13.1514 17.3462 12.898 16.9434 12.4178C16.544 11.9408 16.3924 11.2618 16.5193 10.5056C16.7629 8.96418 18.0086 7.88623 19.5476 7.88623C20.3149 7.88623 20.9387 8.14321 21.3496 8.62736C21.7612 9.11688 21.9246 9.80005 21.8065 10.5531Z" fill="#28356A"></path><path fillRule="evenodd" clipRule="evenodd" d="M39.965 5.25781H37.2494C36.9903 5.25781 36.747 5.38746 36.6002 5.6044L32.855 11.1603L31.2675 5.82111C31.1676 5.48709 30.8617 5.25781 30.515 5.25781H27.8468C27.5223 5.25781 27.2972 5.57694 27.4002 5.88442L30.3913 14.7245L27.5794 18.7225C27.3582 19.0375 27.581 19.4704 27.963 19.4704H30.6751C30.9326 19.4704 31.1734 19.344 31.3195 19.1315L40.351 6.00151C40.5673 5.6875 40.3452 5.25781 39.965 5.25781Z" fill="#28356A"></path><path fillRule="evenodd" clipRule="evenodd" d="M48.9557 0H43.3122C42.9269 0 42.5985 0.282581 42.5382 0.666648L40.2559 15.2398C40.2106 15.5275 40.4318 15.7866 40.7198 15.7866H43.6158C43.8846 15.7866 44.1148 15.589 44.1569 15.3196L44.8047 11.1887C44.8641 10.8039 45.1934 10.5214 45.5787 10.5214H47.3643C51.082 10.5214 53.2265 8.70972 53.7877 5.11997C54.041 3.54925 53.7976 2.31535 53.0673 1.45108C52.266 0.502081 50.8444 0 48.9557 0ZM49.6084 5.32274C49.3005 7.36202 47.7534 7.36202 46.2568 7.36202H45.4063L46.0044 3.55347C46.0397 3.32326 46.2362 3.15381 46.468 3.15381H46.8583C47.8764 3.15381 48.8385 3.15381 49.3352 3.73875C49.6315 4.08767 49.7214 4.60628 49.6084 5.32274Z" fill="#298FC2"></path><path fillRule="evenodd" clipRule="evenodd" d="M65.8201 5.25605H63.1195C62.8877 5.25605 62.6906 5.4255 62.6559 5.65571L62.5362 6.41686L62.3465 6.14103C61.7615 5.28584 60.4578 5 59.1557 5C56.1697 5 53.6203 7.27787 53.1236 10.4731C52.8661 12.0668 53.2315 13.591 54.1292 14.6538C54.9545 15.631 56.1309 16.0383 57.5328 16.0383C59.9387 16.0383 61.2729 14.4802 61.2729 14.4802L61.1525 15.2364C61.1072 15.5255 61.3282 15.7849 61.618 15.7849H64.0512C64.4364 15.7849 64.7648 15.5023 64.8252 15.1175L66.2863 5.80282C66.3309 5.51605 66.1097 5.25605 65.8201 5.25605ZM62.0534 10.5529C61.7943 12.1076 60.5674 13.1513 59.0046 13.1513C58.2215 13.1513 57.5929 12.8978 57.1901 12.4176C56.7909 11.9407 56.6407 11.2617 56.766 10.5054C57.0112 8.96406 58.2553 7.88611 59.7943 7.88611C60.5616 7.88611 61.1854 8.14308 61.5963 8.62724C62.0095 9.11675 62.1729 9.79993 62.0534 10.5529Z" fill="#298FC2"></path><path fillRule="evenodd" clipRule="evenodd" d="M69.0055 0.400594L66.6895 15.2405C66.6442 15.5282 66.8651 15.7873 67.1531 15.7873H69.4816C69.8687 15.7873 70.1969 15.5049 70.2563 15.1202L72.5402 0.547704C72.5857 0.260002 72.3645 0 72.0766 0H69.4693C69.2392 0.000698305 69.0411 0.170386 69.0055 0.400594Z" fill="#298FC2"></path></svg>

    useEffect(() => {
        // loadGigs()
        loadGigData()
    }, [gigId])

    // async function loadGigs() {
    //     try {
    //         const gig = await gigService.getById(gigId)
    //         setGig(gig)
    //     } catch (err) {
    //         console.log('Had issue in gig details', err)
    //         showErrorMsg('Cannot load gig')
    //         navigate('/gig')
    //     }
    // }
    async function loadGigData() {
        try {
            const gigData = await gigService.getById(gigId);
            setGig(gigData);
            // console.log('gigData:', gigData)
        } catch (err) {
            console.log('Error loading gig data', err);
            showErrorMsg('Cannot load gig data');
        }
    }
    async function onAddOrder() {
        const order = orderService.getOrder(gig)
        try {
            const savedOrder = await addOrder(order)
            showSuccessMsg(`Order added (id: ${savedOrder._id})`)
            navigate('/gig')
        } catch (err) {
            showErrorMsg('Cannot add order')
        }
    }
    const handleClick = () => {
        setCards(!cards)
    }
    const handleToggle = () => {
        setIsChecked(!isChecked)
    };


    const handleMouseEnter = (tooltipName) => {
        if (tooltipName === "serviceFee") {
            setShowServiceFeeTooltip(true);
        } else if (tooltipName === "VAT") {
            setShowVATTooltip(true);
        }
    };

    const handleMouseLeave = (tooltipName) => {
        if (tooltipName === "serviceFee") {
            setShowServiceFeeTooltip(false);
        } else if (tooltipName === "VAT") {
            setShowVATTooltip(false);
        }
    };
    const openModal = (text) => {
        setModalText(text);
        setIsModalOpen(true);
    }

    const closeModal = () => {
        setIsModalOpen(false);
    }
    const handleClickModal = () => {
        openModal('Soon.....')
    }
    useEffect(() => {
        const closeOnOutsideClick = (e) => {
            if (isModalOpen && modalRef.current && !modalRef.current.contains(e.target)) {
                closeModal()
            }
        }

        document.addEventListener('mousedown', closeOnOutsideClick)

        return () => {
            document.removeEventListener('mousedown', closeOnOutsideClick)
        }
    }, [isModalOpen])
    const handleLabelClick = (labelName) => {
        setIsLabelClicked(labelName);
    };


    console.log('gig:', gig)
    return (

        <div className="main-gig-payment">
            <span>
                <div className="payment-page-main-layout max-width-container">
                    <div className="grid-12 center-xs">
                        <div className="payment-container" >
                            <section class="billing-info-wrapper">
                                <header class="section-header">
                                    <h6 class="text-display-7">Billing information</h6>
                                </header>
                                <div class="p-20">
                                    <div class="flex-col">
                                        <div class="payment-page-gap-16">
                                            <p class="payment-page-max-w-unset">Your invoice will be issued according to the details listed here.</p>
                                            <div className="texts">
                                                <div class="semi">{user.username}</div>
                                                <div class="deatil">{user.from}</div>
                                            </div>
                                        </div>
                                        <div><button onClick={handleClickModal} class="FW1syM7 Af0hvld xaFER3a co-grey-1200 payment-page-h-42 payment-page-max-w-fit-content">Add details</button></div>

                                    </div>
                                </div>
                            </section>
                            <section className="payment">
                                <header className="payment-option">
                                    <div className="payment-title">Payment Options</div>
                                </header>
                                <div className="payment-method">
                                    <div className="payment-rdio">
                                        <div className="payment-method-header">
                                            <label
                                                className={`Oh4QBmH-radio${isLabelClicked === 'Oh4QBmH-radio' ? ' Oh4QBmH-radio-clicked' : ''}`}
                                                onClick={() => handleLabelClick('Oh4QBmH-radio')}
                                            >
                                                <input onClick={handleClick} className="radio" role="radio" type="radio" name="paymentMethods" value="" checked={cards} />
                                                <span className="Weg1Ghm"></span>
                                            </label>

                                            <div className="fiverrpay-header">
                                                <span className="payment-title">Credit & Debit Cards</span>
                                                {creditCardSymbol}
                                            </div>


                                            <label
                                                className={`Oh4QBmH-radio${isLabelClicked === 'Oh4QBmH-radio' ? 'Oh4QBmH-radio-clicked' : ''}`}
                                                onClick={() => handleLabelClick('Oh4QBmH-radio')}
                                            ></label>



                                        </div>
                                    </div>
                                    {cards && <div className="payment-details">
                                        <form className="fiverrpay-form" action="">
                                            <div className="pay-form">
                                                <div className="card-details">
                                                    <label className="card-number" htmlFor="">
                                                        <span className="semibold">
                                                            Card number
                                                        </span>
                                                        <div className="crad-num  input-wrapper">
                                                            <span className="card-logo "><img src="https://fiverr-res.cloudinary.com/image/upload/f_png,q_auto/v1/attachments/generic_asset/asset/2496be9dfb5983d9de91630d83bb21e0-1682945799754/generic.svg" alt="" />
                                                            </span>
                                                            <input className="input-wrapper" type="text" placeholder="1234 5678 4321 8765"></input>
                                                        </div>

                                                    </label>
                                                    <span className="exp-cvv">
                                                        <label className="expiration-date" htmlFor="expiration-date">
                                                            <span className="semibold">
                                                                Expiration date
                                                            </span>
                                                            <div className="input-wrapper">
                                                                <input type="text" placeholder="12 / 28" />
                                                            </div>
                                                            <span className="error"></span>
                                                        </label>
                                                        <label className="security-code">
                                                            <span className="security-code-title">
                                                                <span className="semibold">
                                                                    Security code
                                                                </span>
                                                            </span>
                                                            <div className="input-wrapper">
                                                                <input type="text" placeholder="***" />
                                                            </div>
                                                            <span className="error"></span>
                                                        </label>
                                                    </span>
                                                </div>
                                            </div>
                                            <div className="pay-name">
                                                <div className="name-fields"><div class="field text-field">
                                                    <label className="semibold first_name-label"
                                                    >First name
                                                    </label>
                                                    <div className="WvIqLXU eXfr7qm text-field-input-wrapper">
                                                        <div className="T1b6wH">
                                                            <input placeholder={user.username} className="GD3asS text-field-input" type="text" />
                                                        </div>
                                                        <span className="error"></span>
                                                    </div>


                                                </div>
                                                    <div class="field text-field">
                                                        <label class=" semibold last_name-label">
                                                            Last name
                                                        </label>
                                                        <div className="WvIqLXU eXfr7qm text-field-input-wrapper">
                                                            <div className="T1b6wH">
                                                                <input placeholder="Smith" className="GD3asS text-field-input" type="text" />
                                                            </div>
                                                            <span className="error"></span>
                                                        </div>
                                                    </div></div>
                                            </div>
                                        </form>

                                        <label className="pay-radio" htmlFor="paymentRadio" >
                                            <input onClick={handleToggle}
                                                id="paymentRadio"
                                                className="radio-pay"
                                                role="radio"
                                                type="radio"
                                                name="save"
                                                value=""
                                                checked={isChecked}
                                            />
                                            <span className={`Weg1Ghm-pay ${isChecked ? 'active' : ''}`}></span>
                                        </label>
                                        <span>
                                            {'Save as default'} {questionMarkSymbol}
                                        </span>


                                    </div>}

                                    <div className="paypal">
                                        <div className="circle">
                                            <label
                                                className={`Oh4QBmH-radio-paypal ${isLabelClicked === 'Oh4QBmH-radio-paypal' ? 'Oh4QBmH-radio-paypal-clicked' : ''}`}
                                                onClick={() => handleLabelClick('Oh4QBmH-radio-paypal')}
                                            >
                                                <input onClick={handleClick} className="radio" role="radio" type="radio" name="paymentMethods" value="" checked={!cards} />
                                                <span className="Weg1Ghm"></span>
                                            </label>
                                            <span>{paypaySymbol}</span>
                                        </div>
                                    </div>

                                </div>
                            </section>
                        </div>
                        <div className="side-content">
                            <div className="order-details-container gig">
                                <span class="gig">
                                    <header class="order-details-header">
                                        <span class="image-container">
                                            <img class="order-image" src={gig?.imgUrl[0]}
                                                alt="I will do brand style guide and minimalist logo design" />
                                        </span>
                                        <div>
                                            <h3 class="order-title text-display-7">{gig?.title}</h3>
                                        </div>
                                    </header>
                                    <article class="order-details-general">
                                        <span class="order-details-general-title text-display-7">
                                            {planType.charAt(0).toUpperCase() + planType.slice(1)} Package
                                        </span>
                                        <div class="quantity-price-container ">
                                            <span class="order-details-general-quantity hide">$</span>
                                            <span class="price order-details-general-price">{planPrice}</span >
                                        </div>
                                    </article>
                                    <ul class="order-details-items-container">
                                        <li class="order-details-item">
                                            <span class="item-title">
                                                <span class="XQskgrQ order-details-item-icon" aria-hidden="true"
                                                    style={{ width: "16px", height: "16px", fill: "rgb(0, 0, 0)" }}>
                                                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M13.6202 2.6083L5.4001 10.8284L2.37973 7.80805C2.23329 7.66161 1.99585 7.66161 1.84939 7.80805L0.96551 8.69193C0.819073 8.83836 0.819073 9.0758 0.96551 9.22227L5.13492 13.3917C5.28135 13.5381 5.51879 13.5381 5.66526 13.3917L15.0344 4.02252C15.1809 3.87608 15.1809 3.63865 15.0344 3.49218L14.1505 2.6083C14.0041 2.46186 13.7667 2.46186 13.6202 2.6083Z">
                                                        </path>
                                                    </svg>
                                                </span>
                                                <span class="order-details-item-title">Logo usage guidelines</span>
                                            </span>
                                            <span class="item-details">
                                            </span>
                                        </li>
                                        <li class="order-details-item">
                                            <span class="item-title">
                                                <span class="XQskgrQ order-details-item-icon" aria-hidden="true"
                                                    style={{ width: "16px", height: "16px", fill: "rgb(0, 0, 0)" }}>
                                                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M13.6202 2.6083L5.4001 10.8284L2.37973 7.80805C2.23329 7.66161 1.99585 7.66161 1.84939 7.80805L0.96551 8.69193C0.819073 8.83836 0.819073 9.0758 0.96551 9.22227L5.13492 13.3917C5.28135 13.5381 5.51879 13.5381 5.66526 13.3917L15.0344 4.02252C15.1809 3.87608 15.1809 3.63865 15.0344 3.49218L14.1505 2.6083C14.0041 2.46186 13.7667 2.46186 13.6202 2.6083Z">
                                                        </path>
                                                    </svg>
                                                </span>
                                                <span class="order-details-item-title">Color palette</span>
                                            </span><span class="item-details">
                                            </span>
                                        </li>
                                        <li class="order-details-item">
                                            <span class="item-title">
                                                <span class="XQskgrQ order-details-item-icon" aria-hidden="true" style={{ width: "16px", height: "16px", fill: "rgb(0, 0, 0)" }}>
                                                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M13.6202 2.6083L5.4001 10.8284L2.37973 7.80805C2.23329 7.66161 1.99585 7.66161 1.84939 7.80805L0.96551 8.69193C0.819073 8.83836 0.819073 9.0758 0.96551 9.22227L5.13492 13.3917C5.28135 13.5381 5.51879 13.5381 5.66526 13.3917L15.0344 4.02252C15.1809 3.87608 15.1809 3.63865 15.0344 3.49218L14.1505 2.6083C14.0041 2.46186 13.7667 2.46186 13.6202 2.6083Z"></path>
                                                    </svg>
                                                </span>
                                                <span class="order-details-item-title">Typography guidelines</span>
                                            </span>
                                            <span class="item-details">
                                            </span>
                                        </li>
                                        <li class="order-details-item">
                                            <span class="item-title">
                                                <span class="XQskgrQ order-details-item-icon" aria-hidden="true" style={{ width: "16px", height: "16px", fill: "rgb(0, 0, 0)" }}>
                                                    <svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg">
                                                        <path d="M13.6202 2.6083L5.4001 10.8284L2.37973 7.80805C2.23329 7.66161 1.99585 7.66161 1.84939 7.80805L0.96551 8.69193C0.819073 8.83836 0.819073 9.0758 0.96551 9.22227L5.13492 13.3917C5.28135 13.5381 5.51879 13.5381 5.66526 13.3917L15.0344 4.02252C15.1809 3.87608 15.1809 3.63865 15.0344 3.49218L14.1505 2.6083C14.0041 2.46186 13.7667 2.46186 13.6202 2.6083Z"></path>
                                                    </svg>
                                                </span>
                                                <span class="order-details-item-title">3 revisions</span>
                                            </span>
                                            <span class="item-details">
                                            </span>
                                        </li>
                                    </ul>
                                    <ul class="order-details-items-container">
                                    </ul>
                                </span>
                            </div>
                            <section class="summary">
                                <div class="summary-table">
                                    <div class="table-row fee-row">
                                        <span class="row-title">Service fee<div class="W46fKfn +cX12Jm k-kBZXW tooltip"
                                            onMouseEnter={() => handleMouseEnter("serviceFee")}
                                            onMouseLeave={() => handleMouseLeave("serviceFee")}
                                        >
                                            <span class="_5-fo9i5">
                                                <i class="fa fa-question-circle" delay="120" content="[object Object]" position="top" boxclassname="_8UHHk5Q" boxcontentclassname="Yn90o2E box-content">
                                                </i>
                                            </span>
                                            {showServiceFeeTooltip && (
                                                <div
                                                    className="k-kBZXW tooltip Gcze-fJ"
                                                    style={{ left: '-151.57px', top: '-74px', paddingBottom: '8px' }}
                                                >
                                                    <aside className="_77O-JH4 zBHi7jg _7t6M82a _8UHHk5Q" data-position="top">
                                                        <div className="_5KluhlZ Yn90o2E box-content">
                                                            <span>This helps us operate our platform and offer 24/7 customer support for your orders.</span>
                                                        </div>
                                                    </aside>
                                                </div>
                                            )}
                                        </div>
                                        </span>
                                        <span class="price">{"$" + (planPrice / 11.5).toFixed(2)}</span>
                                    </div>
                                    <div class="table-row tax-row">
                                        <span class="row-title">VAT<div class="W46fKfn +cX12Jm k-kBZXW tooltip"
                                            onMouseEnter={() => handleMouseEnter("VAT")}
                                            onMouseLeave={() => handleMouseLeave("VAT")}
                                        >
                                            <span class="_5-fo9i5">
                                                <i class="fa fa-question-circle" delay="120" content="[object Object]" position="top" boxclassname="_8UHHk5Q" boxcontentclassname="Yn90o2E box-content">
                                                </i>
                                            </span>
                                            {showVATTooltip && (
                                                <div class="k-kBZXW tooltip Gcze-fJ">
                                                    <aside class="_77O-JH4 zBHi7jg _7t6M82a _8UHHk5Q" data-position="top" style={{ left: '-151.57px', top: '-74px', paddingBottom: '8px' }}>
                                                        <div class="_5KluhlZ Yn90o2E box-content">
                                                            <span>A 17% Value Added Tax (VAT) applies to the purchase of goods and services in Israel.</span>
                                                        </div>
                                                    </aside>
                                                </div>
                                            )}
                                        </div>
                                        </span>
                                        <span class="price">{"$" + (planPrice / 17).toFixed(2)}</span>
                                    </div>
                                </div>
                                <div class="summary-footer">
                                    <div class="table-row total-price">
                                        <span class="row-title">Total</span>
                                        <span class="price">{"$" + planPrice}</span>
                                    </div>
                                    <div class="table-row delivery-date">
                                        <span class="row-title">Total delivery time</span>
                                        <span class="date">{planDelivery + ' '} day/s</span>
                                    </div>
                                </div>
                                {/* <button className="pay-button" onClick={onAddOrder}>Confirm & Pay</button> */}
                                <button
                                    className={`pay-button ${isLabelClicked === 'Oh4QBmH-radio-paypal' ? 'Oh4QBmH-radio-paypal-clicked' : ''}`}
                                    onClick={onAddOrder}
                                    style={{ zIndex: 1 }}
                                >
                                    {isLabelClicked === 'Oh4QBmH-radio-paypal' ? (
                                        <iframe
                                        src={paypal}
                                        title="paypal checkout"
                                        width="200"
                                        height="40"
                                        style={{ pointerEvents: 'none', zIndex: 0 }}
                                        id="paypal"
                                    />
                                    ) : (
                                        "Confirm & Pay"
                                    )}
                                </button>
                                <div class="secure-payment"><i class="fa fa-lock"></i><span>SSL Secure Payment</span></div>
                                <section class="currency-section">
                                    <div class="currency-message tbody-6">You will be charged<span
                                        class="price">{"  $" + planPrice}</span> Total amount includes currency conversion fees.</div></section>
                            </section>
                        </div>
                    </div>
                </div>
                <div className="loading-mask">
                    {/* <span class="XQskgrQ spinner" aria-hidden="true" style="width: 32px; height: 32px;"><svg width="16" height="16" viewBox="0 0 16 16" xmlns="http://www.w3.org/2000/svg"><path d="M14.3786 11.6827L13.7279 11.307C13.5548 11.207 13.4923 10.9895 13.5822 10.8109C14.524 8.9395 14.4679 6.69681 13.4139 4.87512C12.3626 3.05031 10.4484 1.88034 8.35678 1.76025C8.15712 1.74878 8 1.58597 8 1.386V0.634656C8 0.418906 8.1815 0.249125 8.39697 0.260219C11.0081 0.394781 13.4021 1.84972 14.7129 4.12513C16.0274 6.39688 16.0904 9.1975 14.9014 11.5261C14.8033 11.7183 14.5654 11.7905 14.3786 11.6827Z"></path></svg></span> */}
                </div>
                {/* <GigCart gig={gig} /> */}


            </span>
            {isModalOpen && (
                <div className="modal-overlay">
                    <div className="modal-content-small" ref={modalRef}>
                        <p>{modalText}</p>
                        <button onClick={closeModal} className="modal-button-buying">
                            Close
                        </button>
                    </div>
                </div>
            )}
        </div>
    )
}